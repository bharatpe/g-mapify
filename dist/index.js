function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),r=e(t),n=e(require("react-dom")),o=e(require("classnames"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i={mapContainer:"_THUc8",map:"_1sPx9","address-card":"_1XKj7","map-container":"_2_kUN","geo-address":"_16-L6",markerIcon:"_13l5f",defaultSearchPositoin:"_1H8GY",searchLoading:"_36eVq",mapTextarea:"_Lybmg",mapItemUL:"_1Iwzh",mapItem:"_2XwNY",searchH1:"_2z0jc",searchH2:"_2GzpA"};function s(e,t){return e(t={exports:{}},t.exports),t.exports
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var l="function"==typeof Symbol&&Symbol.for,u=l?Symbol.for("react.element"):60103,f=l?Symbol.for("react.portal"):60106,m=l?Symbol.for("react.fragment"):60107,p=l?Symbol.for("react.strict_mode"):60108,d=l?Symbol.for("react.profiler"):60114,y=l?Symbol.for("react.provider"):60109,g=l?Symbol.for("react.context"):60110,h=l?Symbol.for("react.async_mode"):60111,b=l?Symbol.for("react.concurrent_mode"):60111,v=l?Symbol.for("react.forward_ref"):60112,S=l?Symbol.for("react.suspense"):60113,w=l?Symbol.for("react.suspense_list"):60120,_=l?Symbol.for("react.memo"):60115,C=l?Symbol.for("react.lazy"):60116,E=l?Symbol.for("react.block"):60121,N=l?Symbol.for("react.fundamental"):60117,P=l?Symbol.for("react.responder"):60118,O=l?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case u:switch(e=e.type){case h:case b:case m:case d:case p:case S:return e;default:switch(e=e&&e.$$typeof){case g:case v:case C:case _:case y:return e;default:return t}}case f:return t}}}function T(e){return k(e)===b}var j={AsyncMode:h,ConcurrentMode:b,ContextConsumer:g,ContextProvider:y,Element:u,ForwardRef:v,Fragment:m,Lazy:C,Memo:_,Portal:f,Profiler:d,StrictMode:p,Suspense:S,isAsyncMode:function(e){return T(e)||k(e)===h},isConcurrentMode:T,isContextConsumer:function(e){return k(e)===g},isContextProvider:function(e){return k(e)===y},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},isForwardRef:function(e){return k(e)===v},isFragment:function(e){return k(e)===m},isLazy:function(e){return k(e)===C},isMemo:function(e){return k(e)===_},isPortal:function(e){return k(e)===f},isProfiler:function(e){return k(e)===d},isStrictMode:function(e){return k(e)===p},isSuspense:function(e){return k(e)===S},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===m||e===b||e===d||e===p||e===S||e===w||"object"==typeof e&&null!==e&&(e.$$typeof===C||e.$$typeof===_||e.$$typeof===y||e.$$typeof===g||e.$$typeof===v||e.$$typeof===N||e.$$typeof===P||e.$$typeof===O||e.$$typeof===E)},typeOf:k};function $(){}function I(){}s(function(e,t){}),s(function(e){e.exports=j}),function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}(),Function.call.bind(Object.prototype.hasOwnProperty),I.resetWarningCache=$;var x=s(function(e){e.exports=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:I,resetWarningCache:$};return r.PropTypes=r,r}()}),M=require("./left-arrow~EgzQkufV.svg"),L=function(e){var n=e.placeholder,a=e.className,c=t.useState(!0),i=c[0],s=c[1],l=r.createRef();return t.useEffect(function(){l.current.focus()},[l]),r.createElement("div",{className:o("_14K7s",a,i?"_17s3a":"_23bw5"),onTransitionEnd:function(t){console.log("onTransitionEndEvent -> event",t),e.onClose()}},r.createElement("div",{className:"_3n9r_"},r.createElement("div",{className:"img-sec",onClick:function(){return s(!1)}},r.createElement("img",{src:M})),r.createElement("input",{type:"text",className:"_1DPib",onChange:function(t){var r,n;console.log("Searching ...",null==t||null===(r=t.target)||void 0===r?void 0:r.value),e.onChange(null==t||null===(n=t.target)||void 0===n?void 0:n.value)},ref:l,placeholder:n})),e.children)};L.propTypes={placeHolder:x.string,onChange:x.func,onClose:x.func},L.defaultProps={placeHolder:"Search here",onChange:function(){},onClose:function(){}};var A={zoom:15,zoomControl:!1,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,mapTypeId:"roadmap"},q=function(e){return r.createElement("textarea",a({},e,{placeholder:"Search Location",className:o(i.mapTextarea,e.className)}))},H=function(e){var c=e.appKey,s=e.lat,l=e.lng,u=e.mapOptions,f=e.mapClassName,m=e.hasMarker,p=e.hasSearch,d=e.mapSearchPlace,y=e.debounceTime,g=e.inputClassName,h=e.markerIcon,b=e.searchPlaceHolder,v=e.searchClassName,S=e.libraries,w=e.children,_=e.onSelect,C=t.useState([]),E=C[0],N=C[1],P=t.useState(!1),O=P[0],k=P[1],T=t.useState(1),j=T[0],$=T[1],I=t.useState(!1),x=I[0],M=I[1],H=t.useState({}),R=H[0],z=H[1],F=t.useState(""),K=F[0],U=F[1],V=t.useState(null),G=V[0],D=V[1],W=t.useRef(null),X=t.useRef(null),Y=function(){d&&(X={current:document.querySelector(d)}),B(s,l)},B=function(e,t){if(window.google){var r={center:new window.google.maps.LatLng(e,t)};console.log("MAP INSTANXE",W.current),W.current&&D(new window.google.maps.Map(W.current,a({},r,A,u)))}else console.error("google map library not found!")},J=function(){p&&(X.current?n.render(r.createElement(q,{value:K,onFocus:function(){return k(!0)},className:g}),X.current):console.error("mapSearchPlace element not found!","Selector = ",d))},Q=function(e,t){var r={lat:e,lng:t};G.setCenter(r),G.panTo(r),R.lat!==r.lat&&R.lng!==r.lng&&(U("Loading..."),Z(r).then(function(e,t){U(e.formatted_address),te(!0,e,t)},function(e){U("Unable to fetch location"),te(!1,{},e)})),z(r)},Z=function(e){var t=new window.google.maps.Geocoder;return new Promise(function(r,n){t.geocode({location:e},function(e,t){"OK"===t?e[0]?r(e[0],t):n(-1):n(t)})})},ee=function(e){e&&e.length<3||($(0),function(e){return new Promise(function(t,r){var n={query:e,fields:["name","formatted_address","geometry"]},o=new window.google.maps.places.PlacesService(G);console.log("Service",o,G),o.textSearch(n,function(e,n){n===window.google.maps.places.PlacesServiceStatus.OK?t(e,n):r(n)})})}(e).then(function(e){N(e),$(1)},function(){N(E),$(-1)}))},te=function(e,t,r){if(_&&"function"==typeof _){var n=JSON.parse(JSON.stringify(t));_(e,n,r)}};return t.useEffect(function(){c?(function(){if(document.head.querySelector("#google-map"))Y();else{window.gm_authFailure=function(){M(!0),te(!1,{message:"Map load failed!"},-1)};var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key="+c+"&callback=initMapScript&libraries="+S,e.setAttribute("id","google-map"),document.querySelector("head").appendChild(e)}}(),window.initMapScript=function(){var e,t,r;console.log("Map script successfull"),Y(),e=ee,t=y,r=null,ee=function(){for(var n=this,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];clearTimeout(r),r=setTimeout(function(){e.apply(n,a)},t)}}):console.error("google map appKey not found!!!")},[c]),t.useEffect(function(){G&&(Q(s,l),G&&m&&(G.addListener("dragend",function(){Q(G.center.lat(),G.center.lng())}),G.addListener("zoom_changed",function(){Q(R.lat,R.lng)})),J())},[G]),t.useEffect(function(){K&&J()},[K]),t.useEffect(function(){return function(){window.google&&G&&(window.google.maps.event.clearListeners(G,"dragend"),window.google.maps.event.clearListeners(G,"zoom_changed"))}},[]),r.createElement("div",{className:o(i.mapContainer,f)},r.createElement("div",{ref:W,className:i.map}),m&&!x&&r.createElement("div",{className:i.markerIcon,style:{backgroundImage:"url("+h+")"}},"Â "),p&&!x&&!d&&r.createElement("div",{ref:X,className:i.defaultSearchPositoin}),w,O&&!x&&r.createElement(L,{onClose:function(){return k(!1)},onChange:function(e){ee(e)},placeholder:b,className:v},r.createElement("div",{className:i.searchResultContainer},r.createElement("div",{className:i.searchLoading},0===j&&"Loading...",-1===j&&"No Results Found"),r.createElement("ul",{onClick:function(e){var t=e.target&&e.target.closest(".mapItem");if(t.hasAttribute("index")){var r=E[Number(t.getAttribute("index"))];k(!1),Q(r.geometry.location.lat(),r.geometry.location.lng())}},className:o(i.mapItemUL,"mapItem")},E.map(function(e,t){return r.createElement("li",{key:t,index:t,className:o(i.mapItem,"mapItem")},r.createElement("div",{className:i.searchH1},e.name),r.createElement("div",{className:i.searchH2},e.formatted_address))})))))};H.propTypes={appKey:x.string,lat:x.number,lng:x.number,mapOptions:x.object,mapClassName:x.string,hasMarker:x.bool,hasSearch:x.bool,mapSearchPlace:x.string,debounceTime:x.number,inputClassName:x.string,markerIcon:x.string,searchPlaceHolder:x.string,searchClassName:x.string,libraries:x.string,onSelect:x.func,children:x.element},H.defaultProps={appKey:"",lat:28.7041,lng:77.1025,mapOptions:{},mapClassName:"",hasMarker:!0,hasSearch:!1,mapSearchPlace:"",debounceTime:1e3,inputClassName:"",markerIcon:"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi2_hdpi.png",searchPlaceHolder:"Search here",searchClassName:"",libraries:"places",onSelect:function(){},children:null};var R=require("../package.json");console.log(" >> ðŸ—ºðŸ—ºðŸ—º G-Mapify : Version: "+R.version+", Build: production <<"),exports.AddressFormatter=function(e){return void 0===e&&(e=[]),function e(t,r,n){if(void 0===t&&(t=[]),void 0===r&&(r=0),void 0===n&&(n={}),t.length<1)return n;var o=t[r];if(!o)return n;var a=o.long_name;if(t.length>r){for(var i,s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(o.types);!(i=s()).done;)switch(i.value){case"postal_code":n.pin=a;break;case"country":n.country=a;break;case"administrative_area_level_1":n.state=a;break;case"locality":n.locality=a;break;case"sublocality":n.sublocality=n.sublocality?n.sublocality+", "+a:a}return e(t,++r,n)}return n}(e)},exports.GMapify=H;
