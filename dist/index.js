function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),r=e(t),n=e(require("react-dom"));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={mapContainer:"_THUc8",map:"_1sPx9","address-card":"_1XKj7","map-container":"_2_kUN","geo-address":"_16-L6",markerIcon:"_13l5f",defaultSearchPosition:"_1e2LW",searchLoading:"_36eVq",mapItemUL:"_1Iwzh",mapItem:"_2XwNY",searchH1:"_2z0jc",searchH2:"_2GzpA"};function s(e,t){return e(t={exports:{}},t.exports),t.exports}var i=s(function(e){
/*!
    Copyright (c) 2017 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var c=r.apply(null,o);c&&e.push(c)}else if("object"===a)for(var s in o)t.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}),l="function"==typeof Symbol&&Symbol.for,u=l?Symbol.for("react.element"):60103,f=l?Symbol.for("react.portal"):60106,m=l?Symbol.for("react.fragment"):60107,p=l?Symbol.for("react.strict_mode"):60108,d=l?Symbol.for("react.profiler"):60114,g=l?Symbol.for("react.provider"):60109,y=l?Symbol.for("react.context"):60110,h=l?Symbol.for("react.async_mode"):60111,b=l?Symbol.for("react.concurrent_mode"):60111,v=l?Symbol.for("react.forward_ref"):60112,S=l?Symbol.for("react.suspense"):60113,w=l?Symbol.for("react.suspense_list"):60120,_=l?Symbol.for("react.memo"):60115,C=l?Symbol.for("react.lazy"):60116,N=l?Symbol.for("react.block"):60121,E=l?Symbol.for("react.fundamental"):60117,k=l?Symbol.for("react.responder"):60118,P=l?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case u:switch(e=e.type){case h:case b:case m:case d:case p:case S:return e;default:switch(e=e&&e.$$typeof){case y:case v:case C:case _:case g:return e;default:return t}}case f:return t}}}function j(e){return O(e)===b}var M={AsyncMode:h,ConcurrentMode:b,ContextConsumer:y,ContextProvider:g,Element:u,ForwardRef:v,Fragment:m,Lazy:C,Memo:_,Portal:f,Profiler:d,StrictMode:p,Suspense:S,isAsyncMode:function(e){return j(e)||O(e)===h},isConcurrentMode:j,isContextConsumer:function(e){return O(e)===y},isContextProvider:function(e){return O(e)===g},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},isForwardRef:function(e){return O(e)===v},isFragment:function(e){return O(e)===m},isLazy:function(e){return O(e)===C},isMemo:function(e){return O(e)===_},isPortal:function(e){return O(e)===f},isProfiler:function(e){return O(e)===d},isStrictMode:function(e){return O(e)===p},isSuspense:function(e){return O(e)===S},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===m||e===b||e===d||e===p||e===S||e===w||"object"==typeof e&&null!==e&&(e.$$typeof===C||e.$$typeof===_||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===E||e.$$typeof===k||e.$$typeof===P||e.$$typeof===N)},typeOf:O};function I(){}function L(){}s(function(e,t){}),s(function(e){e.exports=M}),function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}(),Function.call.bind(Object.prototype.hasOwnProperty),L.resetWarningCache=I;var T=s(function(e){e.exports=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:L,resetWarningCache:I};return r.PropTypes=r,r}()}),$=require("./left-arrow~EgzQkufV.svg"),x=function(e){var n=e.placeholder,o=e.className,a=t.useState(!0),c=a[0],s=a[1],l=r.createRef();return t.useEffect(function(){l.current.focus()},[l]),r.createElement("div",{className:i("_14K7s",o,c?"_17s3a":"_23bw5"),onTransitionEnd:function(t){e.onClose()}},r.createElement("div",{className:"_3n9r_"},r.createElement("div",{className:"img-sec",onClick:function(){return s(!1)}},r.createElement("img",{src:$})),r.createElement("input",{type:"text",className:"_1DPib",onChange:function(t){var r;e.onChange(null==t||null===(r=t.target)||void 0===r?void 0:r.value)},ref:l,placeholder:n})),e.children)};x.propTypes={placeHolder:T.string,onChange:T.func,onClose:T.func},x.defaultProps={placeHolder:"Search here",onChange:function(){},onClose:function(){}};var A=require("./marker~fVJYJDHQ.svg"),q={zoom:15,zoomControl:!1,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,mapTypeId:"roadmap"},z=require("./search-icon~gbikSNDM.png"),H=function(e){return r.createElement("div",o({},e,{className:i("_1tqcp",e.className)}),r.createElement("div",{className:"_14pA0"}),r.createElement("div",{className:"_4A79G"},r.createElement("span",{className:"_1X7J4"}," Location "),r.createElement("span",{className:"_BXP-z"},e.value)),r.createElement("img",{src:z,className:"_lEzl3"}))},R=function(e){var a=e.appKey,s=e.mapOptions,l=e.mapClassName,u=e.hasMarker,f=e.hasSearch,m=e.mapSearchPlace,p=e.debounceTime,d=e.inputClassName,g=e.markerIcon,y=e.searchPlaceHolder,h=e.searchClassName,b=e.libraries,v=e.children,S=e.onSelect,w=e.customMarkers,_=e.autoCenter,C=e.lat,N=e.lng,E=t.useState([]),k=E[0],P=E[1],O=t.useState(!1),j=O[0],M=O[1],I=t.useState(1),L=I[0],T=I[1],$=t.useState(!1),A=$[0],z=$[1],R=t.useState({}),F=R[0],K=R[1],U=t.useState(""),V=U[0],W=U[1],D=t.useState(null),G=D[0],J=D[1];w&&w.length>0&&(C=w[0][0],N=w[0][1]);var X,B,Y,Q=t.useRef(null),Z=t.useRef(null),ee=function(){m&&(Z={current:document.querySelector(m)}),te(C,N)},te=function(e,t){if(window.google){var r={center:new window.google.maps.LatLng(e,t)};console.log("MAP INSTANXE",Q.current),Q.current&&J(new window.google.maps.Map(Q.current,o({},r,q,s)))}else console.error("google map library not found!")},re=function(){f&&(Z.current?n.render(r.createElement(H,{value:V,onClick:function(){return M(!0)},className:d}),Z.current):console.error("mapSearchPlace element not found!","Selector = ",m))},ne=function(e,t){var r={lat:e,lng:t};G.setCenter(r),G.panTo(r),F.lat!==r.lat&&F.lng!==r.lng&&(W("Searching..."),function(e){var t=new window.google.maps.Geocoder;return new Promise(function(r,n){t.geocode({location:e},function(e,t){"OK"===t?e[0]?r(e[0],t):n(-1):n(t)})})}(r).then(function(e,t){W(e.formatted_address),ae(!0,e,t)},function(e){W("Unable to fetch location"),ae(!1,{},e)})),console.log("setMapLastPosition",r),K(r)},oe=(X=function(e){e&&e.length<3||(T(0),P([]),function(e){return new Promise(function(t,r){var n={query:e,fields:["name","formatted_address","geometry"]};new window.google.maps.places.PlacesService(G).textSearch(n,function(e,n){n===window.google.maps.places.PlacesServiceStatus.OK?t(e,n):r(n)})})}(e).then(function(e){P(e),T(1)},function(){T(-1)}))},B=p,Y=null,function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];clearTimeout(Y),Y=setTimeout(function(){X.apply(e,r)},B)}),ae=function(e,t,r){if(S&&"function"==typeof S){var n=JSON.parse(JSON.stringify(t));S(e,n,r)}};return t.useEffect(function(){a?(document.head.querySelector("#google-map")?ee():(window.gm_authFailure=function(){z(!0),ae(!1,{message:"Map load failed!"},-1)},function(e,t){var r=document.createElement("script");r.src=function(e,t){return"https://maps.googleapis.com/maps/api/js?key="+e+"&callback=initMapScript&libraries="+t}(e,t),r.setAttribute("id","google-map"),document.querySelector("head").appendChild(r)}(a,b)),window.initMapScript=function(){console.log("Map script successfull"),ee()}):console.error("google map appKey not found!!!")},[a]),t.useEffect(function(){G&&(ne(C,N),G&&u&&_&&(G.addListener("dragend",function(){ne(G.center.lat(),G.center.lng())}),G.addListener("zoom_changed",function(){console.log("Last position",F),ne(F.lat,F.lng)})),re(),w&&w.forEach(function(e){console.log("Setting marker",e,new window.google.maps.LatLng(e[0],e[1]),G);var t=new window.google.maps.Marker({position:new window.google.maps.LatLng(e[0],e[1]),map:G,title:"Hello World!",visible:!0,icon:g});if(e[2]){var r=new window.google.maps.InfoWindow({content:e[2]});t.addListener("click",function(){r.open(G,t)})}t.setMap(G)}))},[G]),t.useEffect(function(){V&&re()},[V]),t.useEffect(function(){return function(){window.google&&G&&(window.google.maps.event.clearListeners(G,"dragend"),window.google.maps.event.clearListeners(G,"zoom_changed"))}},[]),r.createElement("div",{className:i(c.mapContainer,l)},r.createElement("div",{ref:Q,className:c.map}),u&&_&&!A&&r.createElement("div",{className:c.markerIcon,style:{backgroundImage:"url("+g+")"}},"Â "),f&&!A&&!m&&r.createElement("div",{ref:Z,className:c.defaultSearchPosition}),v,j&&!A&&r.createElement(x,{onClose:function(){return M(!1)},onChange:function(e){oe(e)},placeholder:y,className:h},r.createElement("div",{className:c.searchResultContainer},r.createElement("div",{className:c.searchLoading},0===L&&"Loading...",-1===L&&"No Results Found"),r.createElement("ul",{onClick:function(e){var t=e.target&&e.target.closest(".mapItem");if(t.hasAttribute("index")){var r=k[Number(t.getAttribute("index"))];M(!1),ne(r.geometry.location.lat(),r.geometry.location.lng())}},className:i(c.mapItemUL,"mapItem")},k.map(function(e,t){return r.createElement("li",{key:t,index:t,className:i(c.mapItem,"mapItem")},r.createElement("div",{className:c.searchH1},e.name),r.createElement("div",{className:c.searchH2},e.formatted_address))})))))};R.propTypes={appKey:T.string,lat:T.number,lng:T.number,mapOptions:T.object,mapClassName:T.string,hasMarker:T.bool,hasSearch:T.bool,autoCenter:T.bool,mapSearchPlace:T.string,debounceTime:T.number,inputClassName:T.string,markerIcon:T.string,searchPlaceHolder:T.string,searchClassName:T.string,libraries:T.string,onSelect:T.func,children:T.element,customMarkers:T.array},R.defaultProps={appKey:"",lat:28.7041,lng:77.1025,mapOptions:{},mapClassName:"",hasMarker:!0,hasSearch:!1,autoCenter:!0,mapSearchPlace:"",debounceTime:1e3,inputClassName:"",markerIcon:A,searchPlaceHolder:"Search here",searchClassName:"",libraries:"places",onSelect:function(){},children:null,customMarkers:[]};var F=require("../package.json");console.log(" >> ðºðºðº G-Mapify : Version: "+F.version+", Build: production <<"),exports.AddressFormatter=function(e){return void 0===e&&(e=[]),function e(t,r,n){if(void 0===t&&(t=[]),void 0===r&&(r=0),void 0===n&&(n={}),t.length<1)return n;var o=t[r];if(!o)return n;var c=o.long_name;if(t.length>r){for(var s,i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(o.types);!(s=i()).done;)switch(s.value){case"postal_code":n.pin=c;break;case"country":n.country=c;break;case"administrative_area_level_1":n.state=c;break;case"locality":n.locality=c;break;case"sublocality":n.sublocality=n.sublocality?n.sublocality+", "+c:c}return e(t,++r,n)}return n}(e)},exports.GMapify=R;
