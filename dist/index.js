function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),r=e(t),n=e(require("react-dom"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={mapContainer:"_THUc8",map:"_1sPx9","address-card":"_1XKj7","map-container":"_2_kUN","geo-address":"_16-L6",markerIcon:"_13l5f",defaultSearchPosition:"_1e2LW",searchLoading:"_36eVq",mapItemUL:"_1Iwzh",mapItem:"_2XwNY",searchH1:"_2z0jc",searchH2:"_2GzpA",mapTextarea:"_Lybmg",locationLive:"_1koYB",locationContainer:"_3E0Ft",locationTitle:"_3aZiO",address:"_2EIwG",searchIcon:"_1Qwu8"};function i(e,t){return e(t={exports:{}},t.exports),t.exports}var s=i(function(e){
/*!
    Copyright (c) 2017 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var c=r.apply(null,a);c&&e.push(c)}else if("object"===o)for(var i in a)t.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}),l="function"==typeof Symbol&&Symbol.for,u=l?Symbol.for("react.element"):60103,f=l?Symbol.for("react.portal"):60106,m=l?Symbol.for("react.fragment"):60107,p=l?Symbol.for("react.strict_mode"):60108,d=l?Symbol.for("react.profiler"):60114,y=l?Symbol.for("react.provider"):60109,g=l?Symbol.for("react.context"):60110,h=l?Symbol.for("react.async_mode"):60111,b=l?Symbol.for("react.concurrent_mode"):60111,v=l?Symbol.for("react.forward_ref"):60112,S=l?Symbol.for("react.suspense"):60113,w=l?Symbol.for("react.suspense_list"):60120,_=l?Symbol.for("react.memo"):60115,C=l?Symbol.for("react.lazy"):60116,N=l?Symbol.for("react.block"):60121,E=l?Symbol.for("react.fundamental"):60117,P=l?Symbol.for("react.responder"):60118,k=l?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case u:switch(e=e.type){case h:case b:case m:case d:case p:case S:return e;default:switch(e=e&&e.$$typeof){case g:case v:case C:case _:case y:return e;default:return t}}case f:return t}}}function T(e){return O(e)===b}var j={AsyncMode:h,ConcurrentMode:b,ContextConsumer:g,ContextProvider:y,Element:u,ForwardRef:v,Fragment:m,Lazy:C,Memo:_,Portal:f,Profiler:d,StrictMode:p,Suspense:S,isAsyncMode:function(e){return T(e)||O(e)===h},isConcurrentMode:T,isContextConsumer:function(e){return O(e)===g},isContextProvider:function(e){return O(e)===y},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},isForwardRef:function(e){return O(e)===v},isFragment:function(e){return O(e)===m},isLazy:function(e){return O(e)===C},isMemo:function(e){return O(e)===_},isPortal:function(e){return O(e)===f},isProfiler:function(e){return O(e)===d},isStrictMode:function(e){return O(e)===p},isSuspense:function(e){return O(e)===S},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===m||e===b||e===d||e===p||e===S||e===w||"object"==typeof e&&null!==e&&(e.$$typeof===C||e.$$typeof===_||e.$$typeof===y||e.$$typeof===g||e.$$typeof===v||e.$$typeof===E||e.$$typeof===P||e.$$typeof===k||e.$$typeof===N)},typeOf:O};function I(){}function $(){}i(function(e,t){}),i(function(e){e.exports=j}),function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}(),Function.call.bind(Object.prototype.hasOwnProperty),$.resetWarningCache=I;var x=i(function(e){e.exports=function(){function e(e,t,r,n,a,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$,resetWarningCache:I};return r.PropTypes=r,r}()}),L=require("./left-arrow~EgzQkufV.svg"),M=function(e){var n=e.placeholder,a=e.className,o=t.useState(!0),c=o[0],i=o[1],l=r.createRef();return t.useEffect(function(){l.current.focus()},[l]),r.createElement("div",{className:s("_14K7s",a,c?"_17s3a":"_23bw5"),onTransitionEnd:function(t){e.onClose()}},r.createElement("div",{className:"_3n9r_"},r.createElement("div",{className:"img-sec",onClick:function(){return i(!1)}},r.createElement("img",{src:L})),r.createElement("input",{type:"text",className:"_1DPib",onChange:function(t){var r;e.onChange(null==t||null===(r=t.target)||void 0===r?void 0:r.value)},ref:l,placeholder:n})),e.children)};M.propTypes={placeHolder:x.string,onChange:x.func,onClose:x.func},M.defaultProps={placeHolder:"Search here",onChange:function(){},onClose:function(){}};var A=require("./search-icon~gbikSNDM.png"),q=require("./marker~fVJYJDHQ.svg"),H={zoom:15,zoomControl:!1,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,mapTypeId:"roadmap"},R=function(e){return r.createElement("div",a({},e,{className:s(c.mapTextarea,e.className)}),r.createElement("div",{className:c.locationLive}),r.createElement("div",{className:c.locationContainer},r.createElement("span",{className:c.locationTitle}," Location "),r.createElement("span",{className:c.address},e.value)),r.createElement("img",{src:A,className:c.searchIcon}))},z=function(e){var o,i,l,u=e.appKey,f=e.lat,m=e.lng,p=e.mapOptions,d=e.mapClassName,y=e.hasMarker,g=e.hasSearch,h=e.mapSearchPlace,b=e.debounceTime,v=e.inputClassName,S=e.markerIcon,w=e.searchPlaceHolder,_=e.searchClassName,C=e.libraries,N=e.children,E=e.onSelect,P=t.useState([]),k=P[0],O=P[1],T=t.useState(!1),j=T[0],I=T[1],$=t.useState(1),x=$[0],L=$[1],A=t.useState(!1),q=A[0],z=A[1],F=t.useState({}),K=F[0],U=F[1],V=t.useState(""),D=V[0],G=V[1],J=t.useState(null),W=J[0],Y=J[1],B=t.useRef(null),Q=t.useRef(null),X=function(){h&&(Q={current:document.querySelector(h)}),Z(f,m)},Z=function(e,t){if(window.google){var r={center:new window.google.maps.LatLng(e,t)};console.log("MAP INSTANXE",B.current),B.current&&Y(new window.google.maps.Map(B.current,a({},r,H,p)))}else console.error("google map library not found!")},ee=function(){g&&(Q.current?n.render(r.createElement(R,{value:D,onClick:function(){return I(!0)},className:v}),Q.current):console.error("mapSearchPlace element not found!","Selector = ",h))},te=function(e,t){var r={lat:e,lng:t};W.setCenter(r),W.panTo(r),K.lat!==r.lat&&K.lng!==r.lng&&(G("Loading..."),re(r).then(function(e,t){G(e.formatted_address),ae(!0,e,t)},function(e){G("Unable to fetch location"),ae(!1,{},e)})),U(r)},re=function(e){var t=new window.google.maps.Geocoder;return new Promise(function(r,n){t.geocode({location:e},function(e,t){"OK"===t?e[0]?r(e[0],t):n(-1):n(t)})})},ne=(o=function(e){e&&e.length<3||(L(0),O([]),function(e){return new Promise(function(t,r){var n={query:e,fields:["name","formatted_address","geometry"]},a=new window.google.maps.places.PlacesService(W);console.log("Service",a,W),a.textSearch(n,function(e,n){n===window.google.maps.places.PlacesServiceStatus.OK?t(e,n):r(n)})})}(e).then(function(e){O(e),L(1)},function(){L(-1)}))},i=b,l=null,function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];clearTimeout(l),l=setTimeout(function(){o.apply(e,r)},i)}),ae=function(e,t,r){if(E&&"function"==typeof E){var n=JSON.parse(JSON.stringify(t));E(e,n,r)}};return t.useEffect(function(){u?(function(){if(document.head.querySelector("#google-map"))X();else{window.gm_authFailure=function(){z(!0),ae(!1,{message:"Map load failed!"},-1)};var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key="+u+"&callback=initMapScript&libraries="+C,e.setAttribute("id","google-map"),document.querySelector("head").appendChild(e)}}(),window.initMapScript=function(){console.log("Map script successfull"),X()}):console.error("google map appKey not found!!!")},[u]),t.useEffect(function(){W&&(te(f,m),W&&y&&(W.addListener("dragend",function(){te(W.center.lat(),W.center.lng())}),W.addListener("zoom_changed",function(){te(K.lat,K.lng)})),ee())},[W]),t.useEffect(function(){D&&ee()},[D]),t.useEffect(function(){return function(){window.google&&W&&(window.google.maps.event.clearListeners(W,"dragend"),window.google.maps.event.clearListeners(W,"zoom_changed"))}},[]),r.createElement("div",{className:s(c.mapContainer,d)},r.createElement("div",{ref:B,className:c.map}),y&&!q&&r.createElement("div",{className:c.markerIcon,style:{backgroundImage:"url("+S+")"}},"Â "),g&&!q&&!h&&r.createElement("div",{ref:Q,className:c.defaultSearchPosition}),N,j&&!q&&r.createElement(M,{onClose:function(){return I(!1)},onChange:function(e){ne(e)},placeholder:w,className:_},r.createElement("div",{className:c.searchResultContainer},r.createElement("div",{className:c.searchLoading},0===x&&"Loading...",-1===x&&"No Results Found"),r.createElement("ul",{onClick:function(e){var t=e.target&&e.target.closest(".mapItem");if(t.hasAttribute("index")){var r=k[Number(t.getAttribute("index"))];I(!1),te(r.geometry.location.lat(),r.geometry.location.lng())}},className:s(c.mapItemUL,"mapItem")},k.map(function(e,t){return r.createElement("li",{key:t,index:t,className:s(c.mapItem,"mapItem")},r.createElement("div",{className:c.searchH1},e.name),r.createElement("div",{className:c.searchH2},e.formatted_address))})))))};z.propTypes={appKey:x.string,lat:x.number,lng:x.number,mapOptions:x.object,mapClassName:x.string,hasMarker:x.bool,hasSearch:x.bool,mapSearchPlace:x.string,debounceTime:x.number,inputClassName:x.string,markerIcon:x.string,searchPlaceHolder:x.string,searchClassName:x.string,libraries:x.string,onSelect:x.func,children:x.element},z.defaultProps={appKey:"",lat:28.7041,lng:77.1025,mapOptions:{},mapClassName:"",hasMarker:!0,hasSearch:!1,mapSearchPlace:"",debounceTime:1e3,inputClassName:"",markerIcon:q,searchPlaceHolder:"Search here",searchClassName:"",libraries:"places",onSelect:function(){},children:null};var F=require("../package.json");console.log(" >> ðŸ—ºðŸ—ºðŸ—º G-Mapify : Version: "+F.version+", Build: production <<"),exports.AddressFormatter=function(e){return void 0===e&&(e=[]),function e(t,r,n){if(void 0===t&&(t=[]),void 0===r&&(r=0),void 0===n&&(n={}),t.length<1)return n;var a=t[r];if(!a)return n;var c=a.long_name;if(t.length>r){for(var i,s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(a.types);!(i=s()).done;)switch(i.value){case"postal_code":n.pin=c;break;case"country":n.country=c;break;case"administrative_area_level_1":n.state=c;break;case"locality":n.locality=c;break;case"sublocality":n.sublocality=n.sublocality?n.sublocality+", "+c:c}return e(t,++r,n)}return n}(e)},exports.GMapify=z;
