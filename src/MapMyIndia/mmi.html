<html>
    <head>
        <title>Default Place Picker</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Default Place Picker" />

        <script src="https://apis.mappls.com/advancedmaps/api/f2febcb102cd6a7c1c8f91e3f53ed36a/map_sdk?layer=vector&v=3.0&callback=initMap1"></script>
        <script src="https://apis.mappls.com/advancedmaps/api/f2febcb102cd6a7c1c8f91e3f53ed36a/map_sdk_plugins?v=3.0"></script>
        <style>
            body {
                margin: 0;
            }
            #map {
                width: 100%;
                height: 100vh;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            /*Map Initialization*/
            var map, Marker1;

            function initMap1() {
                map = new mappls.Map('map', {
                    center: [28.519467, 77.22315],
                    zoomControl: true,
                    location: true,
                    zoom: 14,
                    zoomControl: true
                });
                Marker1 = new mappls.Marker({
                    map: map,
                    position: {
                        lat: 28.519467,
                        lng: 77.22315,
                    },
                    draggable: true,
                    // fitbounds: true,
                    icon_url: 'https://apis.mapmyindia.com/map_v3/1.png',
                });

                // Marker1.on('dragend', function (event) {
                //     var position = Marker1.getPosition();
                //     console.log('Marker dragged to:', position);

                //     // You can update your form fields or perform any other actions with the new position.
                // });

                // Add drag event listener to the map
                map.on('drag', function (event) {
                    var position = map.getCenter();
                    console.log('Map dragged to:', position);

                    // Update the marker position based on the new center
                    Marker1.setPosition(position);
                });
            }
        </script>
    </body>
</html>
